---
layout: null
---
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Notes - Nicolas Hoizey</title>
    <description>{{ site.description | xml_escape }}</description>
    <link>{{ site.url }}</link>
    <atom:link href="{{ "/atom-twitter-notes.xml" | prepend: site.url }}" rel="self" type="application/rss+xml" />
    <pubDate>{{ site.time | date_to_rfc822 }}</pubDate>
    <lastBuildDate>{{ site.time | date_to_rfc822 }}</lastBuildDate>
    <generator>Jekyll v{{ jekyll.version }}</generator>
    {% for note in site.notes reversed limit:20 %}
      {% comment %}
      https://developer.twitter.com/en/docs/basics/counting-characters.html
      {% endcomment %}

      {% assign tweet_icon = 'ðŸ“Œ ' %}
      {% assign tweet_title = note.content | twitterify | truncatewords: 30 | truncate: 200 %}
      {% assign tweet_url = note.url | prepend: site.url %}

      {% assign tweet_without_meta_size = site.tweet_template | replace: '@icon', tweet_icon | replace: '@title', tweet_title | replace: '@tags', '' | replace: '@url', '' | size %}

      {% comment %}
      https://help.twitter.com/en/using-twitter/how-to-tweet-a-link
      {% endcomment %}
      {% assign space_left = site.tweet_max_size | minus: tweet_without_meta_size | minus: site.twitter_url_length %}

      {% assign tweet_tags = '' %}
      {% for tag in note.tags %}
        {% capture new_tag %}#{{ tag | replace: ' ', '' }} {% endcapture %}
        {% assign new_space_left = space_left | minus: new_tag.size %}
        {% if new_space_left > 0 %}
          {% assign tweet_tags = tweet_tags | append: new_tag %}
          {% assign space_left = space_left | minus: new_tag.size %}
        {% endif %}
      {% endfor %}

      {% assign tweet = site.tweet_template | replace: '@icon', tweet_icon | replace: '@title', tweet_title | replace: '@tags', tweet_tags | replace: '@url', tweet_url %}

      <item>
        <title>{{ tweet | xml_escape }}</title>
        <pubDate>{{ note.date | date_to_rfc822 }}</pubDate>
        <link>{{ tweet_url }}</link>
        <guid isPermaLink="true">{{ tweet_url }}</guid>
        {% for tag in note.tags %}
          <category>{{ tag | xml_escape }}</category>
        {% endfor %}
      </item>
    {% endfor %}
  </channel>
</rss>

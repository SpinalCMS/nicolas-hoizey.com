<!-- nomicrotypo -->
<head{% if page.title == "Accueil" %} itemscope itemtype="https://schema.org/WebSite"{% endif %}>
  {% comment %}
  charset and viewport first: https://www.nateberkopec.com/2015/10/21/hacking-head-tags-for-speed-and-profit.html
  {% endcomment %}
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  {% include_cached assets.html %}

  {% comment %} SpeedCurve {% endcomment %}
  <script>
  LUX=(function(){var a=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMarks)?LUX.gaMarks:[]);var d=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMeasures)?LUX.gaMeasures:[]);var j="LUX_start";var k=window.performance;var l=("undefined"!==typeof(LUX)&&LUX.ns?LUX.ns:(Date.now?Date.now():+(new Date())));if(k&&k.timing&&k.timing.navigationStart){l=k.timing.navigationStart}function f(){if(k&&k.now){return k.now()}var o=Date.now?Date.now():+(new Date());return o-l}function b(n){if(k){if(k.mark){return k.mark(n)}else{if(k.webkitMark){return k.webkitMark(n)}}}a.push({name:n,entryType:"mark",startTime:f(),duration:0});return}function m(p,t,n){if("undefined"===typeof(t)&&h(j)){t=j}if(k){if(k.measure){if(t){if(n){return k.measure(p,t,n)}else{return k.measure(p,t)}}else{return k.measure(p)}}else{if(k.webkitMeasure){return k.webkitMeasure(p,t,n)}}}var r=0,o=f();if(t){var s=h(t);if(s){r=s.startTime}else{if(k&&k.timing&&k.timing[t]){r=k.timing[t]-k.timing.navigationStart}else{return}}}if(n){var q=h(n);if(q){o=q.startTime}else{if(k&&k.timing&&k.timing[n]){o=k.timing[n]-k.timing.navigationStart}else{return}}}d.push({name:p,entryType:"measure",startTime:r,duration:(o-r)});return}function h(n){return c(n,g())}function c(p,o){for(i=o.length-1;i>=0;i--){var n=o[i];if(p===n.name){return n}}return undefined}function g(){if(k){if(k.getEntriesByType){return k.getEntriesByType("mark")}else{if(k.webkitGetEntriesByType){return k.webkitGetEntriesByType("mark")}}}return a}return{mark:b,measure:m,gaMarks:a,gaMeasures:d}})();LUX.ns=(Date.now?Date.now():+(new Date()));LUX.ac=[];LUX.cmd=function(a){LUX.ac.push(a)};LUX.init=function(){LUX.cmd(["init"])};LUX.send=function(){LUX.cmd(["send"])};LUX.addData=function(a,b){LUX.cmd(["addData",a,b])};LUX_ae=[];window.addEventListener("error",function(a){LUX_ae.push(a)});LUX_al=[];if("function"===typeof(PerformanceObserver)){var LongTaskObserver=new PerformanceObserver(function(c){var b=c.getEntries();for(var a=0;a<b.length;a++){var d=b[a];LUX_al.push(d)}});try{LongTaskObserver.observe({entryTypes:["longtask"],buffered:true})}catch(e){}};
  </script>
  <script src="https://cdn.speedcurve.com/js/lux.js?id=331612139" async defer crossorigin="anonymous"></script>
        
  {% comment %} Google Analytics {% endcomment %}
  {% if jekyll.environment == "production" %}
    <script>
      window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
      ga('create', 'UA-1655999-10', 'auto');
      ga('set','transport','beacon');
      ga('set', 'anonymizeIp', true);
      if (viewport_width > 0) {
        ga('set', { dimension1: screen_density, dimension2: viewport_width, dimension3: root_font_size });
      } else {
        ga('set', { dimension1: screen_density, dimension2: 0, dimension3: root_font_size });
      }
      ga('send', 'pageview')
    </script>
    <script src="https://www.google-analytics.com/analytics.js" async defer></script>
  {% endif %}

  {% comment %} opengraph and Twitter {% endcomment %}
  <meta property="og:site_name" content="Nicolas Hoizey" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@nhoizey" />
  <meta name="twitter:site" content="@nhoizey" />

  {% comment %} https://dev.twitter.com/web/overview/widgets-webpage-properties#csp {% endcomment %}
  <meta name="twitter:widgets:csp" content="on" />

  {% if page.title == "Homepage" %}
    {% assign title=site.title %}
    {% assign description=site.description %}
    <title itemprop="name">{{ title }}</title>
    <meta property="og:title" content="{{ title }}" />
    <link rel="canonical" href="{{ site.url }}" itemprop="url" />
    <meta property="og:url" content="{{ site.url }}" />
    <meta property="og:type" content="website" />
  {% else %}
    {% if page.layout == "link" %}
      {% capture title %}{{ page.title }}{% endcapture %}
      {% capture description %}{{ page.content | strip_html | truncatewords: 150 | truncate: 290 | strip_newlines | escape_once }}{% endcapture %}
      <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
      <meta property="og:type" content="article" />
      <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}" />
      <meta property="article:author" content="https://www.facebook.com/nhoizey" />
      {% for tag in page.tags %}
        <meta property="article:tag" content="{{ tag }}" />
      {% endfor %}
    {% else %}
      {% if page.type == "year" %}
        {% capture title %}Articles from year {{ page.date | date: "%Y" }}{% endcapture %}
        {% capture description %}Articles published by Nicolas Hoizey in {{ page.date | date: "%Y" }}{% endcapture %}
        <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
        <meta property="og:type" content="website" />
      {% else %}
        {% if page.type == "month" %}
          {% capture title %}Articles from {{ page.date | date: "%B %Y" }}{% endcapture %}
          {% capture description %}Articles published by Nicolas Hoizey in {{ page.date | date: "%B %Y" }}{% endcapture %}
          <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
          <meta property="og:type" content="website" />
        {% else %}
          {% if page.tag %}
            {% capture title %}{{ page.tag }}{% endcapture %}
            {% capture description %}Articles published by Nicolas Hoizey with the tag ”{{ page.tag }}”{% endcapture %}
            <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
            <meta property="og:type" content="website" />
          {% else %}
            {% capture title %}{{ page.title }}{% endcapture %}
            {% capture description %}{{ page.excerpt | strip_html | truncatewords: 150 | truncate: 290 | strip_newlines | escape_once }}{% endcapture %}
            <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
            <meta property="og:type" content="article" />
            <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}" />
            <meta property="article:author" content="https://www.facebook.com/nhoizey" />
            {% for tag in page.tags %}
              <meta property="article:tag" content="{{ tag }}" />
            {% endfor %}
          {% endif %}
        {% endif %}
      {% endif %}
    {% endif %}
    <title>{{ title }} &ndash; Nicolas Hoizey</title>
    <meta property="og:title" content="{{ title }}" />
  {% endif %}
  <meta name="description" content="{{ description }}" />
  <meta property="og:description" content="{{ description }}" />

  {% comment %}
  https://developers.facebook.com/docs/sharing/best-practices?locale=fr_FR#images
  https://developers.facebook.com/tools/debug/sharing/
  {% endcomment %}
  {% assign og_image_width = 1200 %}
  {% assign og_image_height = 630 %}
  <meta property="og:image" content="{% include social-image-url.html page=page width=og_image_width height=og_image_height %}?{{ site.time | date: '%Y%m%d%H%M%S' }}" />
  <meta property="og:image:width" content="{{ og_image_width }}" />
  <meta property="og:image:height" content="{{ og_image_height }}" />

  <link rel="alternate" type="application/rss+xml" title="Feed for articles only" href="/feeds/articles.xml" />
  <link rel="alternate" type="application/rss+xml" title="Feed for links only" href="/feeds/links.xml" />
  <link rel="alternate" type="application/rss+xml" title="Feed for all content" href="/feeds/all.xml" />
  <link rel="icon" type="image/jpeg" href="/favicon.jpg" />

  {% comment %} webmentions with webmention.io {% endcomment %}
  <link rel="pingback" href="https://webmention.io/nicolas-hoizey.com/xmlrpc" />
  <link rel="webmention" href="https://webmention.io/nicolas-hoizey.com/webmention" />

  {% comment %} iOS features {% endcomment %}
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon" href="/favicon.jpg" />
  <meta name="apple-mobile-web-app-title" content="N. Hoizey" />
  {% comment %} https://timkadlec.com/remembers/2018-06-06-web-watch/ {% endcomment %}
  <meta name="disabled-adaptations" content="watch" />

  {% comment %} Theme color: https://developers.google.com/web/updates/2014/11/Support-for-theme-color-in-Chrome-39-for-Android {% endcomment %}
  <meta name="theme-color" content="#663399">

  {% comment %} web app manifest {% endcomment %}
  <link rel="manifest" href="/manifest.webmanifest" />

  {% comment %} rel-me (should be in visible links) {% endcomment %}
  <link rel="me" href="https://twitter.com/nhoizey" />
  <link rel="me" href="https://twitter.com/nice_links" />
  <link rel="me" href="https://github.com/nhoizey" />

  {% comment %} Algolia settings {% endcomment %}
  <script>
  var algoliaApplicationId = '{{ site.algolia.application_id }}';
  var algoliaApiKey = '{{ site.algolia.read_only_api_key }}';
  var algoliaIndexName = '{{ site.algolia.index_name }}';
  </script>
</head>
<!-- endnomicrotypo -->
